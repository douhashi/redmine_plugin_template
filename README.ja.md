# Redmine プラグインテンプレートリポジトリ

モダンな開発手法と包括的なツールセットを備えた、新しいRedmineプラグイン作成のためのすぐに使えるテンプレートリポジトリです。

## 概要

このテンプレートリポジトリは、Redmineプラグイン作成のための完全な開発環境と骨組みを提供します。新しいプラグインリポジトリの出発点として活用することで、以下が得られます：

- **事前設定済みプラグイン構造** - MVCパターンに従った標準的なRedmineプラグインアーキテクチャ
- **完全な開発環境** - プラグイン開発をすぐに開始できるすべての要素
- **ベストプラクティス実装** - セキュリティ、国際化、Redmine統合のパターン
- **包括的ドキュメント** - プラグイン開発ワークフローの詳細ガイド
- **自動セットアップツール** - 特定のプラグイン用にテンプレートをカスタマイズするスクリプト

## このテンプレートが提供するもの

### 開発環境
- **完全なプラグイン構造** - Redmineの規約に従ったすぐに使えるMVCアーキテクチャ
- **サンプル実装** - ベストプラクティスを示す動作するCRUD操作
- **権限フレームワーク** - 事前設定済みのロールベースアクセス制御システム
- **国際化設定** - 英語・日本語の例を含む多言語対応
- **UI統合** - 標準的なRedmineインターフェースコンポーネントとスタイリング

### 開発ツール
- **クイックセットアップスクリプト** - `scripts/update_plugin_info.rb`による迅速なプラグインカスタマイズ
- **ドキュメントテンプレート** - `docs/`ディレクトリの包括的ガイド
- **設定例** - ルート、コントローラー、ビュー、ローカライゼーションファイル
- **セキュリティパターン** - 適切な認証と検証の実装

## はじめに

### このテンプレートから新しいプラグインを作成する

1. **このテンプレートを使用**して新しいリポジトリを作成：
   - GitHubで「Use this template」をクリック、または
   - このコードベースをクローンして新しいリポジトリを作成

2. **セットアップスクリプトでプラグインをカスタマイズ**：
```bash
ruby scripts/update_plugin_info.rb
```

3. **Redmine開発環境にインストール**：
```bash
cd [REDMINE_ROOT]/plugins
git clone [YOUR_NEW_PLUGIN_REPOSITORY] your_plugin_name
cd [REDMINE_ROOT]
bundle exec rake redmine:plugins:migrate RAILS_ENV=development
```

4. **開発開始**：
   - Redmineを再起動
   - 管理 > プラグインでプラグインを有効化
   - サンプルコードを自分のニーズに合わせてカスタマイズを開始

### テンプレートのテスト
開発環境でこのテンプレートをそのままテストする場合：
1. 上記のインストール手順に従う
2. プロジェクトで「Redmine Plugin Template」モジュールを有効化
3. 権限を設定し、サンプルのテンプレート管理機能を探索

## テンプレートカスタマイズ

### 自動セットアップ（推奨）
付属のセットアップスクリプトでカスタマイズプロセスを効率化：
```bash
ruby scripts/update_plugin_info.rb
```

**スクリプトが更新する内容：**
- プラグインIDと表示名
- 作成者と連絡先情報
- バージョン番号とURL
- コードベース全体のファイル名とクラス名
- 国際化キーとラベル

### 手動カスタマイズオプション
高度なカスタマイズのため、以下の主要ファイルを変更：

1. **コアプラグイン設定**（`init.rb`）
   - プラグインメタデータと識別情報
   - 権限定義とメニュー構造
   - モジュール登録

2. **アプリケーションロジック**（`app/`ディレクトリ）
   - コントローラー：ビジネスロジックとリクエスト処理
   - ビュー：ユーザーインターフェーステンプレートとフォーム
   - モデル：データ構造（必要に応じて）

3. **設定**（`config/`ディレクトリ）
   - ルート：URLパターンとルーティングルール
   - ロケール：多言語翻訳とラベル

4. **ドキュメント**（`docs/`ディレクトリ）
   - プラグイン固有のドキュメント
   - APIドキュメントと使用ガイド

## テンプレート構造

### ファイル構成
```
├── init.rb                      # プラグイン登録と設定
├── app/                         # アプリケーションコード（MVCパターン）
│   ├── controllers/             # リクエスト処理とビジネスロジック
│   └── views/                   # ユーザーインターフェーステンプレート
├── config/                      # 設定ファイル
│   ├── locales/                 # 国際化ファイル
│   └── routes.rb                # URLルーティング定義
├── docs/                        # 包括的な開発ガイド
├── scripts/                     # 自動化とセットアップツール
├── README.md                    # 英語ドキュメント
└── README.ja.md                 # 日本語ドキュメント
```

### 組み込み済みベストプラクティス
- **セキュリティフレームワーク**: 認証パターンと入力検証
- **Redmine統合**: 標準UIコンポーネントとヘルパーの使用
- **パフォーマンスパターン**: 効率的なデータベースクエリとキャッシュ戦略
- **エラーハンドリング**: 優雅な劣化とユーザーフレンドリーなエラーメッセージ
- **テスト基盤**: ユニットテストと統合テストに対応した構造

### 開発ワークフローサポート
- **迅速なプロトタイピング**: 変更・拡張可能な動作サンプルコード
- **ドキュメントテンプレート**: 一般的なプラグインシナリオの構造化ガイド
- **国際化**: フォールバック機能付き完全なi18n実装
- **バージョン管理**: 適切なプラグインバージョニングと更新パターン

## 付属ドキュメント

このテンプレートには`docs/`ディレクトリに広範囲な開発ドキュメントが含まれています：

### コアガイド
- **[docs/README.md](./docs/README.md)** - 完全なドキュメント索引とナビゲーション
- **[docs/plugin-development/basic-structure.md](./docs/plugin-development/basic-structure.md)** - プラグインアーキテクチャとファイル構成
- **[docs/core-architecture/models.md](./docs/core-architecture/models.md)** - Redmineの内部構造とパターン

### 高度なトピック
- **[docs/hooks-and-events/overview.md](./docs/hooks-and-events/overview.md)** - 拡張ポイントとイベントシステム
- **[docs/examples/basic-plugin.md](./docs/examples/basic-plugin.md)** - 完全な実装ウォークスルー

### 学習リソース
- 詳細なコメント付きの動作サンプルコード
- 一般的なプラグインパターンとアンチパターン
- Redmineの既存機能との統合
- セキュリティとパフォーマンスの考慮事項

## 環境要件

**対応Redmineバージョン：**
- Redmine 5.0以降のバージョン
- Ruby 3.2、3.3、または3.4
- Rails 7.x系

**開発環境：**
- バージョン管理用Git
- Ruby対応のテキストエディターまたはIDE
- テスト用ローカルRedmineインストール

## テンプレートの保守

### テンプレートへの貢献
Redmineコミュニティのためにこのテンプレートの改善をサポート：

1. **テンプレート改善**: テンプレート拡張のためにこのリポジトリをフォーク
2. **ドキュメント更新**: ガイドと例の改善を提出
3. **バグ報告**: テンプレート構造やセットアップツールの問題を報告
4. **機能要求**: 含めるべき追加ツールやパターンを提案

### ヘルプの取得
- **テンプレートの問題**: [GitHub Issues](https://github.com/douhashi/redmine_plugin_template/issues)
- **プラグイン開発**: 包括的な`docs/`ディレクトリを参照
- **Redmineコミュニティ**: 公式Redmineフォーラムとドキュメント

## ライセンス

このテンプレートはMITライセンスで提供されています。詳細は[LICENSE](LICENSE)をご覧ください。

このテンプレートからプラグインを作成する場合、以下が自由にできます：
- プラグインに任意のライセンスを使用
- テンプレートの帰属を変更または削除
- プラグインを商用またはオープンソースとして配布

## テンプレート作成者

**Sho DOUHASHI**
- GitHub: [@douhashi](https://github.com/douhashi)
- テンプレートリポジトリ: [redmine_plugin_template](https://github.com/douhashi/redmine_plugin_template)
